{
"C:\\Users\\Yashi\\Documents\\Projects\\zno-library\\client\\http\\account-http.service.ts":{"path":"C:\\Users\\Yashi\\Documents\\Projects\\zno-library\\client\\http\\account-http.service.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"7":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"9":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"10":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"11":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"12":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":73}},"14":{"start":{"line":12,"column":36},"end":{"line":12,"column":71}},"15":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"16":{"start":{"line":15,"column":13},"end":{"line":15,"column":37}},"17":{"start":{"line":16,"column":13},"end":{"line":16,"column":37}},"18":{"start":{"line":17,"column":14},"end":{"line":17,"column":44}},"19":{"start":{"line":18,"column":26},"end":{"line":50,"column":3}},"20":{"start":{"line":20,"column":8},"end":{"line":20,"column":25}},"21":{"start":{"line":21,"column":8},"end":{"line":21,"column":27}},"22":{"start":{"line":27,"column":4},"end":{"line":35,"column":6}},"23":{"start":{"line":28,"column":20},"end":{"line":28,"column":24}},"24":{"start":{"line":29,"column":22},"end":{"line":29,"column":43}},"25":{"start":{"line":30,"column":22},"end":{"line":30,"column":69}},"26":{"start":{"line":31,"column":8},"end":{"line":34,"column":23}},"27":{"start":{"line":32,"column":27},"end":{"line":32,"column":112}},"28":{"start":{"line":33,"column":12},"end":{"line":33,"column":28}},"29":{"start":{"line":40,"column":4},"end":{"line":48,"column":6}},"30":{"start":{"line":41,"column":20},"end":{"line":41,"column":24}},"31":{"start":{"line":42,"column":22},"end":{"line":42,"column":43}},"32":{"start":{"line":43,"column":22},"end":{"line":43,"column":69}},"33":{"start":{"line":44,"column":8},"end":{"line":47,"column":23}},"34":{"start":{"line":45,"column":27},"end":{"line":45,"column":72}},"35":{"start":{"line":46,"column":12},"end":{"line":46,"column":28}},"36":{"start":{"line":49,"column":4},"end":{"line":49,"column":30}},"37":{"start":{"line":51,"column":0},"end":{"line":55,"column":23}},"38":{"start":{"line":56,"column":0},"end":{"line":56,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":40},"end":{"line":11,"column":41}},"loc":{"start":{"line":11,"column":73},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":12}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":73}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":18,"column":26},"end":{"line":18,"column":27}},"loc":{"start":{"line":18,"column":38},"end":{"line":50,"column":1}},"line":18},"5":{"name":"AccountHttpService","decl":{"start":{"line":19,"column":13},"end":{"line":19,"column":31}},"loc":{"start":{"line":19,"column":45},"end":{"line":22,"column":5}},"line":19},"6":{"name":"(anonymous_6)","decl":{"start":{"line":27,"column":45},"end":{"line":27,"column":46}},"loc":{"start":{"line":27,"column":68},"end":{"line":35,"column":5}},"line":27},"7":{"name":"(anonymous_7)","decl":{"start":{"line":31,"column":31},"end":{"line":31,"column":32}},"loc":{"start":{"line":31,"column":46},"end":{"line":34,"column":9}},"line":31},"8":{"name":"(anonymous_8)","decl":{"start":{"line":40,"column":46},"end":{"line":40,"column":47}},"loc":{"start":{"line":40,"column":69},"end":{"line":48,"column":5}},"line":40},"9":{"name":"(anonymous_9)","decl":{"start":{"line":44,"column":31},"end":{"line":44,"column":32}},"loc":{"start":{"line":44,"column":46},"end":{"line":47,"column":9}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":35}},{"start":{"line":11,"column":40},"end":{"line":13,"column":1}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":1,"10":1,"11":1,"12":1,"13":2,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":1,"38":1},"f":{"0":1,"1":1,"2":2,"3":2,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[1,0,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[1,1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Yashi/Documents/Projects/zno-library/client/http/account-http.service.ts","sourceRoot":"C:/Users/Yashi/Documents/Projects/zno-library/","sources":["client\\http\\account-http.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,sCAAmD;AACnD,sCAA+D;AAE/D,6CAA4C;AAI5C,IAAa,kBAAkB;IAG3B,4BAA0B,IAAU,EAAiB,KAAY;QAC7D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAED;;;OAGG;IACI,sCAAS,GAAhB,UAAiB,WAA0C;QAA3D,iBAOC;QANG,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,OAAO,GAAG,IAAI,qBAAc,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;QACvD,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,UAAC,GAAG;YACvB,IAAI,QAAQ,GAAG,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAC,QAAQ,EAAE,EAAE,OAAO,CAAC,CAAC;YACpG,MAAM,CAAC,QAAQ,CAAC;QACpB,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED;;;OAGG;IACI,uCAAU,GAAjB,UAAkB,WAAgC;QAAlD,iBAOC;QANG,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,OAAO,GAAG,IAAI,qBAAc,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;QACvD,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,UAAC,GAAG;YACvB,IAAI,QAAQ,GAAG,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;YAC5D,MAAM,CAAC,QAAQ,CAAC;QACpB,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IACL,yBAAC;AAAD,CAAC,AAjCD,IAiCC;AAjCY,kBAAkB;IAD9B,iBAAU,EAAE;IAII,WAAA,aAAM,CAAC,WAAI,CAAC,CAAA,EAAc,WAAA,aAAM,CAAC,aAAK,CAAC,CAAA;qCAApB,WAAI,EAAwB,aAAK;GAHxD,kBAAkB,CAiC9B;AAjCY,gDAAkB","sourcesContent":["import { Injectable, Inject } from \"@angular/core\";\r\nimport { Http, RequestOptions, Response } from \"@angular/http\";\r\nimport { ILoginCredentials, ICreate } from \"../account/services/account.service\";\r\nimport { Utils } from \"../main/utils/utils\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable()\r\nexport class AccountHttpService {\r\n    private http: Http;\r\n    private utils: Utils;\r\n    constructor(@Inject(Http) http: Http, @Inject(Utils) utils: Utils) {\r\n        this.http = http;\r\n        this.utils = utils;\r\n    }\r\n\r\n    /**\r\n     * Logs in user\r\n     * @param credentials Observable of login credentials\r\n     */\r\n    public loginUser(credentials: Observable<ILoginCredentials>): Observable<Response> {\r\n        let content = this.utils.JsonType();\r\n        let options = new RequestOptions({ headers: content });\r\n        return credentials.map((req) => {\r\n            let response = this.http.post(\"auth/login/\", { email: req.email, password: req.password }, options);\r\n            return response;\r\n        }).concatAll();\r\n    }\r\n\r\n    /**\r\n     * Creates new user\r\n     * @param credentials Observable of create credentials\r\n     */\r\n    public createUser(credentials: Observable<ICreate>) {\r\n        let content = this.utils.JsonType();\r\n        let options = new RequestOptions({ headers: content });\r\n        return credentials.map((req) => {\r\n            let response = this.http.post(\"auth/create/\", req, options);\r\n            return response;\r\n        }).concatAll();\r\n    }\r\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"8a9b4e9816ba461cdde5dec1c21e31ed9c00cd7a","l":{"2":1,"3":1,"4":1,"5":0,"6":1,"8":1,"9":1,"11":1,"12":2,"14":1,"15":1,"16":1,"17":1,"18":1,"20":1,"21":1,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"49":1,"51":1,"56":1}},
"C:\\Users\\Yashi\\Documents\\Projects\\zno-library\\client\\main\\utils\\utils.ts":{"path":"C:\\Users\\Yashi\\Documents\\Projects\\zno-library\\client\\main\\utils\\utils.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":21},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":13},"end":{"line":4,"column":28}},"3":{"start":{"line":5,"column":13},"end":{"line":5,"column":37}},"4":{"start":{"line":6,"column":21},"end":{"line":6,"column":46}},"5":{"start":{"line":7,"column":22},"end":{"line":7,"column":48}},"6":{"start":{"line":9,"column":21},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":47}},"8":{"start":{"line":14,"column":13},"end":{"line":83,"column":3}},"9":{"start":{"line":19,"column":8},"end":{"line":21,"column":10}},"10":{"start":{"line":27,"column":4},"end":{"line":29,"column":6}},"11":{"start":{"line":28,"column":8},"end":{"line":28,"column":106}},"12":{"start":{"line":34,"column":4},"end":{"line":45,"column":6}},"13":{"start":{"line":35,"column":25},"end":{"line":35,"column":39}},"14":{"start":{"line":36,"column":20},"end":{"line":36,"column":89}},"15":{"start":{"line":36,"column":67},"end":{"line":36,"column":86}},"16":{"start":{"line":37,"column":23},"end":{"line":37,"column":42}},"17":{"start":{"line":38,"column":23},"end":{"line":38,"column":45}},"18":{"start":{"line":39,"column":8},"end":{"line":44,"column":9}},"19":{"start":{"line":40,"column":12},"end":{"line":40,"column":68}},"20":{"start":{"line":43,"column":12},"end":{"line":43,"column":56}},"21":{"start":{"line":50,"column":4},"end":{"line":52,"column":6}},"22":{"start":{"line":51,"column":8},"end":{"line":51,"column":58}},"23":{"start":{"line":57,"column":4},"end":{"line":61,"column":6}},"24":{"start":{"line":58,"column":8},"end":{"line":60,"column":10}},"25":{"start":{"line":59,"column":12},"end":{"line":59,"column":91}},"26":{"start":{"line":66,"column":4},"end":{"line":68,"column":6}},"27":{"start":{"line":67,"column":8},"end":{"line":67,"column":55}},"28":{"start":{"line":73,"column":4},"end":{"line":75,"column":6}},"29":{"start":{"line":74,"column":8},"end":{"line":74,"column":92}},"30":{"start":{"line":74,"column":55},"end":{"line":74,"column":88}},"31":{"start":{"line":79,"column":4},"end":{"line":81,"column":6}},"32":{"start":{"line":80,"column":8},"end":{"line":80,"column":74}},"33":{"start":{"line":82,"column":4},"end":{"line":82,"column":17}},"34":{"start":{"line":84,"column":0},"end":{"line":84,"column":22}},"35":{"start":{"line":88,"column":0},"end":{"line":88,"column":60}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":14,"column":13},"end":{"line":14,"column":14}},"loc":{"start":{"line":14,"column":25},"end":{"line":83,"column":1}},"line":14},"1":{"name":"Utils","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":18}},"loc":{"start":{"line":15,"column":21},"end":{"line":22,"column":5}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":27,"column":33},"end":{"line":27,"column":34}},"loc":{"start":{"line":27,"column":50},"end":{"line":29,"column":5}},"line":27},"3":{"name":"(anonymous_3)","decl":{"start":{"line":34,"column":45},"end":{"line":34,"column":46}},"loc":{"start":{"line":34,"column":65},"end":{"line":45,"column":5}},"line":34},"4":{"name":"(anonymous_4)","decl":{"start":{"line":36,"column":49},"end":{"line":36,"column":50}},"loc":{"start":{"line":36,"column":65},"end":{"line":36,"column":88}},"line":36},"5":{"name":"(anonymous_5)","decl":{"start":{"line":50,"column":45},"end":{"line":50,"column":46}},"loc":{"start":{"line":50,"column":62},"end":{"line":52,"column":5}},"line":50},"6":{"name":"(anonymous_6)","decl":{"start":{"line":57,"column":35},"end":{"line":57,"column":36}},"loc":{"start":{"line":57,"column":54},"end":{"line":61,"column":5}},"line":57},"7":{"name":"(anonymous_7)","decl":{"start":{"line":58,"column":15},"end":{"line":58,"column":16}},"loc":{"start":{"line":58,"column":58},"end":{"line":60,"column":9}},"line":58},"8":{"name":"(anonymous_8)","decl":{"start":{"line":66,"column":37},"end":{"line":66,"column":38}},"loc":{"start":{"line":66,"column":57},"end":{"line":68,"column":5}},"line":66},"9":{"name":"(anonymous_9)","decl":{"start":{"line":73,"column":34},"end":{"line":73,"column":35}},"loc":{"start":{"line":73,"column":54},"end":{"line":75,"column":5}},"line":73},"10":{"name":"(anonymous_10)","decl":{"start":{"line":74,"column":30},"end":{"line":74,"column":31}},"loc":{"start":{"line":74,"column":53},"end":{"line":74,"column":90}},"line":74},"11":{"name":"(anonymous_11)","decl":{"start":{"line":79,"column":31},"end":{"line":79,"column":32}},"loc":{"start":{"line":79,"column":43},"end":{"line":81,"column":5}},"line":79}},"branchMap":{"0":{"loc":{"start":{"line":39,"column":8},"end":{"line":44,"column":9}},"type":"if","locations":[{"start":{"line":39,"column":8},"end":{"line":44,"column":9}},{"start":{"line":39,"column":8},"end":{"line":44,"column":9}}],"line":39},"1":{"loc":{"start":{"line":39,"column":12},"end":{"line":39,"column":46}},"type":"binary-expr","locations":[{"start":{"line":39,"column":12},"end":{"line":39,"column":27}},{"start":{"line":39,"column":31},"end":{"line":39,"column":46}}],"line":39}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":1,"24":0,"25":0,"26":1,"27":0,"28":1,"29":0,"30":0,"31":1,"32":0,"33":1,"34":1,"35":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Yashi/Documents/Projects/zno-library/client/main/utils/utils.ts","sourceRoot":"C:/Users/Yashi/Documents/Projects/zno-library/","sources":["client\\main\\utils\\utils.ts"],"names":[],"mappings":";;AAEA,+CAA4D;AAC5D,6BAAkC;AAClC,sCAAwC;AACxC,+CAA6F;AAE7F,iDAA6C;AAC7C,UAAU;AACV,+CAA4D;AAAnD,oCAAA,UAAU,CAAA;AAYnB;;GAEG;AACH;IAAA;QAEI;;WAEG;QACI,eAAU,GAAG;YAChB,UAAU,EAAE,0BAAU;SACzB,CAAC;IAkEN,CAAC;IAhEG;;;OAGG;IACK,0BAAU,GAAlB,UAAmB,KAAa;QAC5B,MAAM,CAAC,iDAAY,kCAAmB,CAAC,KAAK,CAAG,CAAC;IACpD,CAAC;IAED;;;OAGG;IACI,sCAAsB,GAA7B,UAA8B,QAAuB;QACjD,IAAI,UAAU,GAAG,QAAQ,CAAC,KAAK,CAAC;QAChC,IAAI,KAAK,GAAI,UAAqB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,UAAC,IAAI,IAAO,MAAM,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACxF,IAAI,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACtC,EAAE,CAAC,CAAE,QAAQ,KAAK,CAAC,CAAC,IAAI,QAAQ,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,oCAAqB,CAAC,UAAU,CAAC,CAAC;QAC7C,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAED;;;OAGG;IACI,sCAAsB,GAA7B,UAA8B,KAAU;QACpC,MAAM,CAAC,8BAAe,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IAED;;;OAGG;IACI,4BAAY,GAAnB,UAAoB,OAAoB;QACpC,MAAM,CAAC,UAAC,IAAY,EAAE,UAAiB,EAAE,aAA8B;YACnE,MAAM,CAAC,IAAI,yBAAU,CAAC,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,aAAa,CAAC,CAAC;QACpE,CAAC,CAAC;IACN,CAAC;IAED;;;OAGG;IACI,8BAAc,GAArB,UAAyB,QAAqB;QAC1C,MAAM,CAAC,iBAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IAC5C,CAAC;IAED;;;OAGG;IACI,2BAAW,GAAlB,UAAsB,QAAwB;QAC1C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAC,GAAG,EAAE,MAAM,IAAO,MAAM,CAAC,iBAAU,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3E,CAAC;IAED;;OAEG;IACI,wBAAQ,GAAf;QACI,MAAM,CAAC,IAAI,cAAO,CAAC,EAAE,cAAc,EAAE,kBAAkB,EAAE,CAAC,CAAC;IAC/D,CAAC;IACL,YAAC;AAAD,CAAC,AAzED,IAyEC;AAzEY,sBAAK;AA2ElB;;GAEG;AACU,QAAA,aAAa,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC","sourcesContent":["// Input\r\nimport { FormBuilder } from \"@angular/forms\";\r\nimport { ErrorInput, IErrorMessages } from \"./inputBuilder\";\r\nimport { Observable } from \"rxjs\";\r\nimport { Headers } from \"@angular/http\";\r\nimport { BACKEND_ERROR_MAPPING, BACKEND_AUTH_FIELDS, DATABASE_ERRORS } from \"./errorMapping\";\r\nimport { Response } from \"@angular/http\";\r\nimport { sameFields } from \"./sameValidator\";\r\n// Exports\r\nexport { ErrorInput, IErrorMessages } from \"./inputBuilder\";\r\n\r\n/**\r\n * Factory that creates ErrorInput\r\n */\r\nexport type buildInput = (init: string, validators: any[], errorMessages?: IErrorMessages) => ErrorInput;\r\n\r\n/**\r\n * Response with error\r\n */\r\nexport type errorResponse = { error: string };\r\n\r\n/**\r\n * Class with utils\r\n */\r\nexport class Utils {\r\n\r\n    /**\r\n     * Collection of input validators\r\n     */\r\n    public Validators = {\r\n        sameFields: sameFields\r\n    };\r\n\r\n    /**\r\n     * Constructs error message for no field error\r\n     * @param field Field name\r\n     */\r\n    private noFieldErr(field: string) {\r\n        return `Нет поля ${BACKEND_AUTH_FIELDS[field]}`;\r\n    }\r\n\r\n    /**\r\n     * Translates database error\r\n     * @param response Error response object\r\n     */\r\n    public translateErrorResponse(response: errorResponse) {\r\n        let errContent = response.error;\r\n        let words = (errContent as string).split(\" \").filter((word) => { return word !== \"\"; });\r\n        let nofield1 = words.indexOf(\"No\");\r\n        let nofield2 = words.indexOf(\"field\");\r\n        if ( nofield1 === -1 && nofield2 === -1) {\r\n            return BACKEND_ERROR_MAPPING[errContent];\r\n        } else {\r\n            return this.noFieldErr(words[nofield1 + 1]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Translates database errors\r\n     * @param error Error object\r\n     */\r\n    public translateDatabaseError(error: any) {\r\n        return DATABASE_ERRORS[error.name];\r\n    }\r\n\r\n    /**\r\n     * Factory for creationg input\r\n     * @param builder Form builder for input creation\r\n     */\r\n    public inputFactory(builder: FormBuilder): buildInput {\r\n        return (init: string, validators: any[], errorMessages?: IErrorMessages) => {\r\n            return new ErrorInput(builder, init, validators, errorMessages);\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Handles resource promise responses and errors\r\n     * @param response Promise with response\r\n     */\r\n    public handleResponse<T>(response:  Promise<T>): Observable<T> {\r\n        return Observable.fromPromise(response);\r\n    }\r\n\r\n    /**\r\n     * Handles resource observable responses and errors\r\n     * @param response Observable with response\r\n     */\r\n    public handleError<T>(response:  Observable<T>): Observable<T> {\r\n        return response.catch((err, caught) => { return Observable.of(err); });\r\n    }\r\n\r\n    /**\r\n     * Returns content-type header for json request body\r\n     */\r\n    public JsonType() {\r\n        return new Headers({ \"Content-Type\": \"application/json\" });\r\n    }\r\n}\r\n\r\n/**\r\n * Provides handler for application resources\r\n */\r\nexport const utilsProvider = { provide: Utils, useClass: Utils };"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"4bead71fdfea2867da4b765080e4a9ab7fe83449","l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"9":1,"10":1,"14":1,"19":1,"27":1,"28":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"43":0,"50":1,"51":0,"57":1,"58":0,"59":0,"66":1,"67":0,"73":1,"74":0,"79":1,"80":0,"82":1,"84":1,"88":1}},
"C:\\Users\\Yashi\\Documents\\Projects\\zno-library\\client\\main\\utils\\inputBuilder.ts":{"path":"C:\\Users\\Yashi\\Documents\\Projects\\zno-library\\client\\main\\utils\\inputBuilder.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":6,"column":18},"end":{"line":37,"column":3}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":24}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":62}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":31}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":85}},"6":{"start":{"line":12,"column":8},"end":{"line":16,"column":11}},"7":{"start":{"line":14,"column":16},"end":{"line":14,"column":35}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":26}},"9":{"start":{"line":22,"column":4},"end":{"line":28,"column":6}},"10":{"start":{"line":23,"column":8},"end":{"line":26,"column":9}},"11":{"start":{"line":24,"column":22},"end":{"line":24,"column":57}},"12":{"start":{"line":25,"column":12},"end":{"line":25,"column":84}},"13":{"start":{"line":27,"column":8},"end":{"line":27,"column":42}},"14":{"start":{"line":33,"column":4},"end":{"line":35,"column":6}},"15":{"start":{"line":34,"column":8},"end":{"line":34,"column":37}},"16":{"start":{"line":36,"column":4},"end":{"line":36,"column":22}},"17":{"start":{"line":38,"column":0},"end":{"line":38,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":18},"end":{"line":6,"column":19}},"loc":{"start":{"line":6,"column":30},"end":{"line":37,"column":1}},"line":6},"1":{"name":"ErrorInput","decl":{"start":{"line":7,"column":13},"end":{"line":7,"column":23}},"loc":{"start":{"line":7,"column":66},"end":{"line":18,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":18},"end":{"line":13,"column":19}},"loc":{"start":{"line":13,"column":35},"end":{"line":15,"column":13}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":38},"end":{"line":22,"column":39}},"loc":{"start":{"line":22,"column":50},"end":{"line":28,"column":5}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":33,"column":36},"end":{"line":33,"column":37}},"loc":{"start":{"line":33,"column":53},"end":{"line":35,"column":5}},"line":33}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":27},"end":{"line":9,"column":61}},"type":"cond-expr","locations":[{"start":{"line":9,"column":43},"end":{"line":9,"column":56}},{"start":{"line":9,"column":59},"end":{"line":9,"column":61}}],"line":9},"1":{"loc":{"start":{"line":23,"column":8},"end":{"line":26,"column":9}},"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":26,"column":9}},{"start":{"line":23,"column":8},"end":{"line":26,"column":9}}],"line":23},"2":{"loc":{"start":{"line":25,"column":32},"end":{"line":25,"column":83}},"type":"cond-expr","locations":[{"start":{"line":25,"column":56},"end":{"line":25,"column":77}},{"start":{"line":25,"column":80},"end":{"line":25,"column":83}}],"line":25}},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Yashi/Documents/Projects/zno-library/client/main/utils/inputBuilder.ts","sourceRoot":"C:/Users/Yashi/Documents/Projects/zno-library/","sources":["client\\main\\utils\\inputBuilder.ts"],"names":[],"mappings":";;AASA;;GAEG;AACH;IAKI,oBAAY,OAAoB,EAAE,IAAY,EAAE,UAAiB,EAAE,aAA8B;QAAjG,iBAUC;QATG,IAAI,CAAC,WAAW,GAAG,aAAa,GAAG,aAAa,GAAG,EAAE,CAAC;QACtD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,UAAU,CAAC,CAAC;QAC7E,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC;YAChC,IAAI,EAAE,UAAC,KAAK;gBACR,KAAI,CAAC,UAAU,EAAE,CAAC;YACtB,CAAC;SACJ,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IACD;;OAEG;IACI,+BAAU,GAAjB;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YACvB,IAAI,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;QAC5E,CAAC;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;IACtC,CAAC;IACD;;;OAGG;IACI,6BAAQ,GAAf,UAAgB,KAAU;QACtB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;IACL,iBAAC;AAAD,CAAC,AAjCD,IAiCC;AAjCY,gCAAU","sourcesContent":["import { AbstractControl, FormBuilder } from \"@angular/forms\";\r\n\r\n/**\r\n * List of error messages\r\n */\r\nexport interface IErrorMessages {\r\n    [error: string]: string;\r\n}\r\n\r\n/**\r\n * Constructs input that tracks errors\r\n */\r\nexport class ErrorInput {\r\n    public element: AbstractControl;\r\n    public messageList: IErrorMessages;\r\n    public isErr: boolean;\r\n    public errorMessage: string;\r\n    constructor(builder: FormBuilder, init: string, validators: any[], errorMessages?: IErrorMessages) {\r\n        this.messageList = errorMessages ? errorMessages : {};\r\n        this.errorMessage = \"\";\r\n        this.element = builder.control({ value: init, disabled: false }, validators);\r\n        this.element.valueChanges.subscribe({\r\n            next: (state) => {\r\n                this.refreshErr();\r\n            }\r\n        });\r\n        this.refreshErr();\r\n    }\r\n    /**\r\n     * Refreshes fields error state\r\n     */\r\n    public refreshErr() {\r\n        if (this.element.invalid) {\r\n            let key = Object.keys(this.element.errors)[0];\r\n            this.errorMessage = this.messageList[key] ? this.messageList[key] : key;\r\n        }\r\n        this.isErr = this.element.invalid;\r\n    }\r\n    /**\r\n     * Sets fields value\r\n     * @param value Value of a field\r\n     */\r\n    public setValue(value: any) {\r\n        this.element.setValue(value);\r\n    }\r\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"d882b9d87da19141734fe08034a6f0900616403c","l":{"2":1,"6":1,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"17":0,"22":1,"23":0,"24":0,"25":0,"27":0,"33":1,"34":0,"36":1,"38":1}},
"C:\\Users\\Yashi\\Documents\\Projects\\zno-library\\client\\main\\utils\\errorMapping.ts":{"path":"C:\\Users\\Yashi\\Documents\\Projects\\zno-library\\client\\main\\utils\\errorMapping.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":11,"column":2}},"2":{"start":{"line":12,"column":0},"end":{"line":18,"column":2}},"3":{"start":{"line":19,"column":0},"end":{"line":21,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/Yashi/Documents/Projects/zno-library/client/main/utils/errorMapping.ts","sourceRoot":"C:/Users/Yashi/Documents/Projects/zno-library/","sources":["client\\main\\utils\\errorMapping.ts"],"names":[],"mappings":";;AAEa,QAAA,qBAAqB,GAAG;IACjC,oBAAoB,EAAE,4BAA4B;IAClD,uBAAuB,EAAE,4BAA4B;IACrD,mBAAmB,EAAE,2BAA2B;IAChD,sBAAsB,EAAE,6BAA6B;IACrD,wBAAwB,EAAE,8BAA8B;IACxD,wBAAwB,EAAE,uBAAuB;IACjD,4BAA4B,EAAE,+BAA+B;CAChE,CAAC;AAEW,QAAA,mBAAmB,GAAG;IAC/B,OAAO,EAAE,OAAO;IAChB,UAAU,EAAE,QAAQ;IACpB,MAAM,EAAE,KAAK;IACb,SAAS,EAAE,SAAS;IACpB,UAAU,EAAE,UAAU;CACzB,CAAC;AAEW,QAAA,eAAe,GAAG;IAC3B,WAAW,EAAE,YAAY;CAC5B,CAAC","sourcesContent":["import { Response } from \"@angular/http\";\r\n\r\nexport const BACKEND_ERROR_MAPPING = {\r\n    \"Email is incorrect\": \"Неправельный формат емейла\",\r\n    \"Password is incorrect\": \"Неправельный формат пароля\",\r\n    \"Name is incorrect\": \"Неправельный формат имени\",\r\n    \"Surname is incorrect\": \"Неправельный формат фамилии\",\r\n    \"Last name is incorrect\": \"Неправельный формат отчества\",\r\n    \"Email was already used\": \"Емейл уже использован\",\r\n    \"Password or email is wrong\": \"Пароль или емейл неправельный\"\r\n};\r\n\r\nexport const BACKEND_AUTH_FIELDS = {\r\n    \"email\": \"емейл\",\r\n    \"password\": \"пароль\",\r\n    \"name\": \"имя\",\r\n    \"surname\": \"фамилия\",\r\n    \"lastName\": \"отчество\"\r\n};\r\n\r\nexport const DATABASE_ERRORS = {\r\n    \"not_found\": \"Не найдено\"\r\n};"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"1e6b8bf448028461d659224c3aea69f4b8fa0624","l":{"2":1,"3":1,"12":1,"19":1}},
"C:\\Users\\Yashi\\Documents\\Projects\\zno-library\\client\\main\\utils\\sameValidator.ts":{"path":"C:\\Users\\Yashi\\Documents\\Projects\\zno-library\\client\\main\\utils\\sameValidator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":8,"column":4},"end":{"line":15,"column":6}},"2":{"start":{"line":9,"column":8},"end":{"line":14,"column":9}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":84}},"4":{"start":{"line":13,"column":12},"end":{"line":13,"column":24}},"5":{"start":{"line":17,"column":0},"end":{"line":17,"column":32}}},"fnMap":{"0":{"name":"sameFields","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":28},"end":{"line":16,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":11},"end":{"line":8,"column":12}},"loc":{"start":{"line":8,"column":30},"end":{"line":15,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":8},"end":{"line":14,"column":9}},"type":"if","locations":[{"start":{"line":9,"column":8},"end":{"line":14,"column":9}},{"start":{"line":9,"column":8},"end":{"line":14,"column":9}}],"line":9}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":1},"f":{"0":0,"1":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Yashi/Documents/Projects/zno-library/client/main/utils/sameValidator.ts","sourceRoot":"C:/Users/Yashi/Documents/Projects/zno-library/","sources":["client\\main\\utils\\sameValidator.ts"],"names":[],"mappings":";;AAEA;;;GAGG;AACH,oBAA2B,MAAuB;IAC9C,MAAM,CAAC,UAAC,OAAwB;QAC5B,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;YACjC,MAAM,CAAC,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,KAAK,EAAE,EAAE,CAAC;QAC5E,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;IACL,CAAC,CAAC;AACN,CAAC;AARD,gCAQC","sourcesContent":["import { AbstractControl } from \"@angular/forms\";\r\n\r\n/**\r\n * Validates two fields if they have the same value\r\n * @param sameTo Control which must have same value\r\n */\r\nexport function sameFields(sameTo: AbstractControl) {\r\n    return (control: AbstractControl) => {\r\n        if (control.value !== sameTo.value) {\r\n            return { sameFields: { control: control.value, sameTo: sameTo.value } };\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f6bfab8a8cd323df08933091be9046026d5babd6","l":{"2":1,"8":0,"9":0,"10":0,"13":0,"17":1}}}
